const words_0_100 = [
  { word: "the", translations: ["o", "a", "os", "as"] },
  { word: "of", translations: ["de"] },
  { word: "to", translations: ["para"] },
  { word: "and", translations: ["e"] },
  { word: "a", translations: ["um", "uma"] },
  { word: "in", translations: ["em", "dentro"] },
  { word: "is", translations: ["é"] },
  { word: "it", translations: ["este", "isto", "isso", "o", "a", "ele", "ela"] },
  { word: "you", translations: ["você"] },
  { word: "that", translations: ["que", "aquele"] },
  { word: "he", translations: ["ele"] },
  { word: "was", translations: ["era", "estava"] },
  { word: "for", translations: ["por", "para"] },
  { word: "on", translations: ["em", "ligado", "em cima", "na"] },
  { word: "are", translations: ["são", "estão"] },
  { word: "with", translations: ["com"] },
  { word: "as", translations: ["como", "enquanto"] },
  { word: "I", translations: ["eu"] },
  { word: "his", translations: ["dele"] },
  { word: "they", translations: ["eles"] },
  { word: "be", translations: ["ser", "estar"] },
  { word: "at", translations: ["em"] },
  { word: "one", translations: ["um"] },
  { word: "have", translations: ["ter"] },
  { word: "this", translations: ["este"] },
  { word: "from", translations: ["de"] },
  { word: "or", translations: ["ou"] },
  { word: "had", translations: ["tinha"] },
  { word: "by", translations: ["por", "em"] },
  { word: "hot", translations: ["quente"] },
  { word: "word", translations: ["palavra"] },
  { word: "but", translations: ["mas"] },
  { word: "what", translations: ["o que"] },
  { word: "some", translations: ["algum"] },
  { word: "we", translations: ["nós"] },
  { word: "can", translations: ["poder", "lata"] },
  { word: "out", translations: ["fora"] },
  { word: "other", translations: ["outro"] },
  { word: "were", translations: ["eram", "estavam"] },
  { word: "all", translations: ["todo", "tudo"] },
  { word: "there", translations: ["lá"] },
  { word: "when", translations: ["quando"] },
  { word: "up", translations: ["para cima", "no alto", "em alta"] },
  { word: "use", translations: ["usar"] },
  { word: "your", translations: ["seu", "sua", "teu", "tua"] },
  { word: "how", translations: ["como", "quão"] },
  { word: "said", translations: ["disse"] },
  { word: "an", translations: ["um", "uma"] },
  { word: "each", translations: ["cada"] },
  { word: "she", translations: ["ela"] },
  { word: "which", translations: ["qual"] },
  { word: "do", translations: ["fazer", "mesmo"] },
  { word: "their", translations: ["deles", "delas","seus", "suas"] },
  { word: "time", translations: ["tempo", "hora"] },
  { word: "if", translations: ["se"] },
  { word: "will", translations: ["vai", "vontade", "irei"] },
  { word: "way", translations: ["caminho", "jeito", "maneira"] },
  { word: "about", translations: ["sobre", "quase"] },
  { word: "many", translations: ["muitos"] },
  { word: "then", translations: ["então"] },
  { word: "them", translations: ["eles"] },
  { word: "write", translations: ["escrever"] },
  { word: "would", translations: ["iria","seria"] },
  { word: "like", translations: ["como", "gostar"] },
  { word: "so", translations: ["assim", "tão"] },
  { word: "these", translations: ["estes"] },
  { word: "her", translations: ["dela"] },
  { word: "long", translations: ["longo"] },
  { word: "make", translations: ["fazer"] },
  { word: "thing", translations: ["coisa"] },
  { word: "see", translations: ["ver"] },
  { word: "him", translations: ["ele"] },
  { word: "two", translations: ["dois", "duas"] },
  { word: "has", translations: ["tem"] },
  { word: "look", translations: ["olhar"] },
  { word: "more", translations: ["mais"] },
  { word: "day", translations: ["dia"] },
  { word: "could", translations: ["poderia"] },
  { word: "go", translations: ["ir"] },
  { word: "come", translations: ["vir"] },
  { word: "did", translations: ["fez", "mesmo"] },
  { word: "number", translations: ["número"] },
  { word: "sound", translations: ["som"] },
  { word: "no", translations: ["não"] },
  { word: "most", translations: ["mais", "maior", "maioria"] },
  { word: "people", translations: ["pessoas", "povo"] },
  { word: "my", translations: ["meu", "minha", "meus", "minhas"] },
  { word: "over", translations: ["sobre", "acima de", "por cima"] },
  { word: "know", translations: ["saber"] },
  { word: "water", translations: ["água"] },
  { word: "than", translations: ["que", "do que"] },
  { word: "call", translations: ["chamar"] },
  { word: "first", translations: ["primeiro"] },
  { word: "who", translations: ["quem"] },
  { word: "may", translations: ["maio", "poder"] },
  { word: "down", translations: ["baixo"] },
  { word: "side", translations: ["lado"] },
  { word: "been", translations: ["sido", "estado"] },
  { word: "now", translations: ["agora"] },
  { word: "find", translations: ["encontrar"] }
];

const words_101_200 = [
  { word: "any", translations: ["qualquer"] },
  { word: "new", translations: ["novo"] },
  { word: "work", translations: ["trabalho"] },
  { word: "part", translations: ["parte"] },
  { word: "take", translations: ["pegar"] },
  { word: "get", translations: ["obter"] },
  { word: "place", translations: ["lugar"] },
  { word: "made", translations: ["feito"] },
  { word: "live", translations: ["viver", "vivo"] },
  { word: "where", translations: ["onde"] },
  { word: "after", translations: ["após", "depois"] },
  { word: "back", translations: ["atrás", "costas"] },
  { word: "little", translations: ["pequeno", "pouco"] },
  { word: "only", translations: ["somente", "apenas", "só"] },
  { word: "round", translations: ["redondo", "rodada", "em volta", "em torno"] },
  { word: "man", translations: ["homem"] },
  { word: "year", translations: ["ano"] },
  { word: "came", translations: ["chegado"] },
  { word: "show", translations: ["mostrar"] },
  { word: "every", translations: ["cada"] },
  { word: "good", translations: ["bom"] },
  { word: "me", translations: ["me", "eu"] },
  { word: "give", translations: ["dar"] },
  { word: "our", translations: ["nosso"] },
  { word: "under", translations: ["sob", "debaixo"] },
  { word: "name", translations: ["nome"] },
  { word: "very", translations: ["muito", "absoluto"] },
  { word: "through", translations: ["através de"] },
  { word: "just", translations: ["justo", "só", "apenas", "por pouco"] },
  { word: "form", translations: ["forma", "formulário"] },
  { word: "sentence", translations: ["sentença"] },
  { word: "great", translations: ["ótimo", "excelente", "grande"] },
  { word: "think", translations: ["pensar"] },
  { word: "say", translations: ["dizer"] },
  { word: "help", translations: ["ajudar"] },
  { word: "low", translations: ["baixo"] },
  { word: "line", translations: ["linha", "fila"] },
  { word: "differ", translations: ["diferir", "discordar"] },
  { word: "turn", translations: ["tornar", "vez"] },
  { word: "cause", translations: ["causa"] },
  { word: "much", translations: ["muito"] },
  { word: "mean", translations: ["meio", "significar"] },
  { word: "before", translations: ["antes"] },
  { word: "move", translations: ["movimento", "mexer-se", "mover-se"] },
  { word: "right", translations: ["direito", "direita", "correto", "certo"] },
  { word: "boy", translations: ["garoto", "menino"] },
  { word: "old", translations: ["velho"] },
  { word: "too", translations: ["também"] },
  { word: "same", translations: ["mesmo"] },
  { word: "tell", translations: ["contar"] },
  { word: "does", translations: ["faz", "mesmo"] },
  { word: "set", translations: ["conjunto", "fixar"] },
  { word: "three", translations: ["três"] },
  { word: "want", translations: ["querer"] },
  { word: "air", translations: ["ar"] },
  { word: "well", translations: ["bem", "poço"] },
  { word: "also", translations: ["também"] },
  { word: "play", translations: ["peça", "tocar", "brincar"] },
  { word: "small", translations: ["pequeno"] },
  { word: "end", translations: ["fim", "finalizar"] },
  { word: "put", translations: ["por"] },
  { word: "home", translations: ["casa"] },
  { word: "read", translations: ["ler", "lido"] },
  { word: "hand", translations: ["mão"] },
  { word: "port", translations: ["porto"] },
  { word: "large", translations: ["grande"] },
  { word: "spell", translations: ["soletrar", "encanto"] },
  { word: "add", translations: ["adicionar"] },
  { word: "even", translations: ["mesmo", "até", "ainda mais"] },
  { word: "land", translations: ["terra"] },
  { word: "here", translations: ["aqui"] },
  { word: "must", translations: ["dever", "muito"] },
  { word: "big", translations: ["grande"] },
  { word: "high", translations: ["alto"] },
  { word: "such", translations: ["tal", "tanto"] },
  { word: "follow", translations: ["seguir"] },
  { word: "act", translations: ["ato", "agir"] },
  { word: "why", translations: ["porque", "por que"] },
  { word: "ask", translations: ["pedir", "perguntar"] },
  { word: "men", translations: ["homens"] },
  { word: "change", translations: ["mudar"] },
  { word: "went", translations: ["foi"] },
  { word: "light", translations: ["leve", "luz"] },
  { word: "kind", translations: ["bom", "tipo"] },
  { word: "off", translations: ["por", "desligado"] },
  { word: "need", translations: ["precisar"] },
  { word: "house", translations: ["casa"] },
  { word: "picture", translations: ["foto", "filme"] },
  { word: "try", translations: ["tentar"] },
  { word: "us", translations: ["nos", "nós"] },
  { word: "again", translations: ["de novo", "novamente"] },
  { word: "animal", translations: ["animal"] },
  { word: "point", translations: ["ponto"] },
  { word: "mother", translations: ["mãe"] },
  { word: "world", translations: ["mundo"] },
  { word: "near", translations: ["perto"] },
  { word: "build", translations: ["construir"] },
  { word: "self", translations: ["próprio", "ego", "mesmo", "eu"] },
  { word: "earth", translations: ["terra"] },
  { word: "father", translations: ["pai"] }
];

const words_201_300 = [
  { word: "head", translations: ["cabeça"] },
  { word: "stand", translations: ["permanecer", "de pé", "banca"] },
  { word: "own", translations: ["próprio"] },
  { word: "page", translations: ["página"] },
  { word: "should", translations: ["deveria"] },
  { word: "country", translations: ["país"] },
  { word: "found", translations: ["encontrado", "fundar"] },
  { word: "answer", translations: ["resposta"] },
  { word: "school", translations: ["escola"] },
  { word: "grow", translations: ["crescer"] },
  { word: "study", translations: ["estudo", "estudar"] },
  { word: "still", translations: ["até", "ainda assim", "calmo"] },
  { word: "learn", translations: ["aprender"] },
  { word: "plant", translations: ["planta", "fábrica"] },
  { word: "cover", translations: ["cobrir"] },
  { word: "food", translations: ["comida"] },
  { word: "sun", translations: ["sol"] },
  { word: "four", translations: ["quatro"] },
  { word: "between", translations: ["entre"] },
  { word: "state", translations: ["estado"] },
  { word: "keep", translations: ["guardar"] },
  { word: "eye", translations: ["olho"] },
  { word: "never", translations: ["nunca"] },
  { word: "last", translations: ["último", "durar"] },
  { word: "let", translations: ["deixar"] },
  { word: "thought", translations: ["pensamento", "pensado"] },
  { word: "city", translations: ["cidade"] },
  { word: "tree", translations: ["árvore"] },
  { word: "cross", translations: ["cruz", "cruzar"] },
  { word: "farm", translations: ["fazenda"] },
  { word: "hard", translations: ["duro"] },
  { word: "start", translations: ["começar"] },
  { word: "might", translations: ["poder", "poderia"] },
  { word: "story", translations: ["estória", "andar(prédio)", "história"] },
  { word: "saw", translations: ["viu", "serra"] },
  { word: "far", translations: ["longe"] },
  { word: "sea", translations: ["mar"] },
  { word: "draw", translations: ["arrastar", "empate", "desenhar"] },
  { word: "left", translations: ["esquerda", "deixado"] },
  { word: "late", translations: ["tarde"] },
  { word: "run", translations: ["correr"] },
  { word: "don’t", translations: ["não"] },
  { word: "while", translations: ["enquanto"] },
  { word: "press", translations: ["pressão", "imprensa"] },
  { word: "close", translations: ["fechar"] },
  { word: "night", translations: ["noite"] },
  { word: "real", translations: ["real"] },
  { word: "life", translations: ["vida"] },
  { word: "few", translations: ["alguns", "pouco"] },
  { word: "north", translations: ["norte"] },
  { word: "open", translations: ["aberto"] },
  { word: "seem", translations: ["parecer"] },
  { word: "together", translations: ["juntos"] },
  { word: "next", translations: ["próximo"] },
  { word: "white", translations: ["branco"] },
  { word: "children", translations: ["crianças"] },
  { word: "begin", translations: ["começar"] },
  { word: "got", translations: ["ficado", "obtido"] },
  { word: "walk", translations: ["andar"] },
  { word: "example", translations: ["exemplo"] },
  { word: "ease", translations: ["facilitar"] },
  { word: "paper", translations: ["papel"] },
  { word: "group", translations: ["grupo"] },
  { word: "always", translations: ["sempre"] },
  { word: "music", translations: ["música"] },
  { word: "those", translations: ["aqueles"] },
  { word: "both", translations: ["ambos"] },
  { word: "mark", translations: ["marcar"] },
  { word: "often", translations: ["muitas vezes", "frequentemente"] },
  { word: "letter", translations: ["letra", "carta"] },
  { word: "until", translations: ["até"] },
  { word: "mile", translations: ["milha"] },
  { word: "river", translations: ["rio"] },
  { word: "car", translations: ["carro"] },
  { word: "feet", translations: ["pés", "pé"] },
  { word: "care", translations: ["cuidado"] },
  { word: "second", translations: ["segundo"] },
  { word: "book", translations: ["livro"] },
  { word: "carry", translations: ["carregar"] },
  { word: "took", translations: ["pego", "pegado"] },
  { word: "science", translations: ["ciência"] },
  { word: "eat", translations: ["comer"] },
  { word: "room", translations: ["cômodo", "quarto"] },
  { word: "friend", translations: ["amigo"] },
  { word: "sight", translations: ["visão", "vista"] },
  { word: "began", translations: ["começado"] },
  { word: "idea", translations: ["idéia", "ideia"] },
  { word: "fish", translations: ["peixe", "pescar"] },
  { word: "mountain", translations: ["montanha"] },
  { word: "stop", translations: ["parar"] },
  { word: "once", translations: ["uma vez"] },
  { word: "base", translations: ["base"] },
  { word: "hear", translations: ["ouvir"] },
  { word: "horse", translations: ["cavalo"] },
  { word: "cut", translations: ["cortar"] },
  { word: "sure", translations: ["certo"] },
  { word: "watch", translations: ["assistir", "relógio"] },
  { word: "color", translations: ["cor", "colorir"] },
  { word: "face", translations: ["rosto"] },
  { word: "wood", translations: ["madeira"] }
];

const custom = [
  { word: "in", translations: ["em", "dentro"] },
  { word: "that", translations: ["que", "aquele"] },
  { word: "was", translations: ["era", "estava"] },
  { word: "on", translations: ["em", "ligado", "em cima", "na"] },
  { word: "are", translations: ["são", "estão"] },
  { word: "his", translations: ["dele"] },
  { word: "they", translations: ["eles"] },
  { word: "at", translations: ["em"] },
  { word: "had", translations: ["tinha"] },
  { word: "some", translations: ["algum"] },
  { word: "were", translations: ["eram", "estavam"] },
  { word: "up", translations: ["para cima", "no alto", "em alta"] },
  { word: "said", translations: ["disse"] },
  { word: "which", translations: ["qual"] },
  { word: "their", translations: ["deles", "delas","seus", "suas"] },
  { word: "will", translations: ["vai", "vontade", "irei"] },
  { word: "then", translations: ["então"] },
  { word: "them", translations: ["eles"] },
  { word: "would", translations: ["iria","seria"] },
  { word: "so", translations: ["assim", "tão"] },
  { word: "these", translations: ["estes"] },
  { word: "her", translations: ["dela"] },
  { word: "him", translations: ["ele"] },
  { word: "has", translations: ["tem"] },
  { word: "could", translations: ["poderia"] },
  { word: "come", translations: ["vir"] },
  { word: "did", translations: ["fez", "mesmo"] },
  { word: "most", translations: ["mais", "maior", "maioria"] },
  { word: "over", translations: ["sobre", "acima de", "por cima"] },
  { word: "than", translations: ["que", "do que"] },
  { word: "who", translations: ["quem"] },
  { word: "may", translations: ["maio", "poder"] },
  { word: "down", translations: ["baixo"] },
  { word: "side", translations: ["lado"] },
  { word: "been", translations: ["sido", "estado"] },
];


const words = [
  words_0_100, 
  words_101_200,
  words_201_300,
  custom
];

let shuffledIndexes = [];
let currentIndex = -1;
let correctAnswers = 0;
let wrongAnswers = 0;
let currentWords = [];
let answeredWords = [];
let incorrectWords = [];
let currentWordListIndex = -1; 

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

function selectWordList(index){
  currentWordListIndex = index;
  currentWords = words[index];

  const listItems = document.querySelectorAll('.word-list');
  listItems.forEach(item => {
    item.classList.remove('selected');
  });

  listItems[index].classList.add('selected');

  initializeIndexes();
  displayRandomWord();
  updateStats();
  
}

function initializeIndexes() {
  shuffledIndexes = [...Array(currentWords.length).keys()];
  shuffleArray(shuffledIndexes);
  currentIndex = -1;
}

function getRandomIndex() {
  if (shuffledIndexes.length === 0) {
    initializeIndexes();
  }
  return shuffledIndexes.pop();
}

function displayRandomWord() {
  if (answeredWords.length === currentWords.length) {
    alert("Parabéns! Você respondeu todas as palavras. Inicie novamente.");
    answeredWords = [];
    correctAnswers = 0;
    wrongAnswers = 0;
    initializeIndexes();
    displayRandomWord();
    updateStats(); 
    showIncorrectWords();
    return;
  }

  let randomIndex;
  do {
    randomIndex = getRandomIndex();
  } while (answeredWords.includes(randomIndex));

  currentIndex = randomIndex;
  const wordContainer = document.getElementById('word-container');
  wordContainer.textContent = currentWords[currentIndex].word;
}

function updateStats() {
  const statsContainer = document.getElementById('stats');
  statsContainer.innerHTML = `Acertos: <span class="result-correct">${correctAnswers}</span> | Erros: <span class="result-incorrect">${wrongAnswers}</span>`;
}

function showResultAlert(message, isCorrect, correctTranslations, word) {
  const resultAlert = document.getElementById('result');
  resultAlert.textContent = message;
  resultAlert.classList.toggle('correct', isCorrect);
  resultAlert.classList.toggle('incorrect', !isCorrect); 
  resultAlert.classList.add('fade-in');

  const correctTranslationsMessage = `<b> ${word} = ${correctTranslations.join(', ')}<b>`;
  resultAlert.innerHTML += `<br>${correctTranslationsMessage}`;
  
}

document.getElementById('answer-input').addEventListener('keypress', function (e) {
  if (e.key === 'Enter') {
    checkAnswer();
  }
});

function checkAnswer() {
  const userAnswer = document.getElementById('answer-input').value.trim().toLowerCase();
  const correctTranslations = currentWords[currentIndex].translations.map(translation => translation.toLowerCase());
  let isCorrect = correctTranslations.includes(userAnswer);
  
  if (isCorrect) {
    correctAnswers++;
  } else {
    wrongAnswers++;
    incorrectWords.push({
      word: currentWords[currentIndex].word,
      translations: correctTranslations
    });
  }
  
  const message = isCorrect ? 'Correto!' : 'Incorreto!';
  showResultAlert(message, isCorrect, correctTranslations, currentWords[currentIndex].word);

  answeredWords.push(currentIndex);
  
  displayRandomWord();
  updateStats();
  document.getElementById('answer-input').value = '';
}


function showIncorrectWords() {
  let incorrectWordsMessage = "Palavras incorretas:\n";
  incorrectWords.forEach(word => {
    incorrectWordsMessage += `${word.word} - Traduções: ${word.translations.join(', ')}\n`;
  });
  if(incorrectWords.length){
    alert(incorrectWordsMessage);
  }
  incorrectWords = [];
}

window.onload = function() {
  selectWordList(0);
};
